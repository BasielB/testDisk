<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ title }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">
</head>
<body>
    <h1>{{ title }}</h1>
    <table class="table">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Size</th>
            <th scope="col">Mount Point</th>
            <th scope="col"></th>
        </tr>
        </thead>
        <tbody>
        {% for disk in disks %}
            {% if disk.mount_point %}
                <tr class="table-success">
            {% else %}
                <tr class="table-light">
            {% endif %}
                    <th scope="row">{{ forloop.counter }}</th>
                    <td>{{ disk.name }}</td>
                    <td>{{ disk.size }}</td>
                    <td>{{ disk.mount_point }}</td>
                    <td>
                        <form action="">
                            {% csrf_token %}
                            <button type="submit" value="{{ disk.name }}">Format</button>
                        </form>
                        <form action="mount" method="post">
                            {% csrf_token %}
                            {% if disk.mount_point %}
                            <input type="hidden" name="name" value="{{ disk.name }}">
                            <button type="submit">Umount</button>
                            {% else %}
                            <button type="submit" value="{{ disk.name }}">Mount</button>
                            {% endif %}
                        </form>
                    </td>
                </tr>
        {% endfor %}
        </tbody>
</table>
</body>
</html>